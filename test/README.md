This is the test version of program. 

Since I don't have access to all the equipment that would be needed to test it thoroughly I had to resort to some other solutions.
-ADC and calculations that result in getting the value of the sensor were tested using on-board DAC of the Nucleo board.
-Key feature of the program was tested using User button to force 0 to the button variable. Together with USART communication allowing us to change passwords this made it possible to see how program behaves when putting in correct/incorrect passwords by changing them to "0000".
-USART-PC communication was tested with USART2USB converter chip.
-SPI and I2C communication were both tested using the second Nucleo board I borrowed from a peer.

The program was written in main.c and stm32f3xx_it.c, everything else is auto generated by Cube MX.

This version of the program is uncommented, not refatored and has a lot of residuals from debbuging. I only uploaded it because it's a requirement of the assignement.
If You want to analyze the program - I suggest using main instead.